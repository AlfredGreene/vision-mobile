<div class="content_padding">
  <h2>Recommendations</h2>
  <img src="images/ajax-loader.gif" class="spinner" ng-hide="recommendations != null || recommendations_error" />
  <ul class="flex-container">
    <li class="table-view-cell group" ng-repeat="programme in recommendations">
      <a href="#/programmes/{{ programme.programme_id }}">
        <div class="left">
          <img src="http://148.88.32.64/cache/170x100-2/programmes{{ programme.image }}" style="width: 85px; height: 50px;" />
        </div>
        <div class="right">
          <p>{{ programme.programme_name }}</p>
          <p class="metadata">
            <span ng-show="programme.percentage_watched">{{ programme.percentage_watched}}% Watched &middot; </span>
            {{ programme.channel_name }} &middot; {{ programme.duration_mins }} minutes
          </p>
          <span class="glyphicons chevron-right"></span>
        </div>
        <p class="small synopsis">{{ programme.synopsis | cut:true:160 }}</p>
      </a>
    </li>

    <li class="table-view-cell empty-list-message" ng-show="recommendations.length == 0">
      <p>We don't have any recommendations for you at the moment</p>
    </li>

    <li class="table-view-cell empty-list-message error-message" ng-show="recommendations_error">
      <p>Problem getting recommendations</p>
      <p>Ensure you're on the Lancaster network either via eduroam or by connecting over VPN.</p>
    </li>
  </ul>

  <h2>Trending</h2>
  <img src="images/ajax-loader.gif" class="spinner" ng-hide="trending != null || trending_error" />
  <ul class="flex-container">
    <li class="table-view-cell group" ng-repeat="programme in trending">
      <div class="progress_fill" style="width: {{ programme.percentage_watched }}%"></div>
      <a href="#/programmes/{{ programme.programme_id }}">
        <div class="left">
          <img src="http://148.88.32.64/cache/170x100-2/programmes{{ programme.image }}" style="width: 85px; height: 50px;" />
        </div>
        <div class="right">
          <p>{{ programme.programme_name }}</p>
          <p class="metadata">
            <span ng-show="programme.percentage_watched">{{ programme.percentage_watched}}% Watched &middot; </span>
            {{ programme.channel_name }} &middot; {{ programme.duration_mins }} minutes
          </p>
          <span class="glyphicons chevron-right"></span>
        </div>
        <p class="small synopsis">{{ programme.synopsis | cut:true:160 }}</p>
      </a>
    </li>

    <li class="table-view-cell empty-list-message" ng-show="trending.length == 0">
      <p>We don't have any trending programmes at the moment</p>
    </li>

    <li class="table-view-cell empty-list-message error-message" ng-show="trending_error">
      <p>Problem getting trending programmes</p>
      <p>Ensure you're on the Lancaster network either via eduroam or by connecting over VPN.</p>
    </li>
  </ul>

  <p id="footer">
    Developed by Ross Wilson &middot; <a ng-click="logout()">Logout</a>
  </p>
</div>
